# 电竞比赛模拟器网页项目策划书（最终完整版·含洲际超级杯赛全规则）


## 一、项目概述
### 1.1 项目名称
电竞比赛模拟器 2（EsportManager 2）第二代 桌面端应用

### 1.2 项目定位
基于用户定制的“年度常规赛事+跨年度顶级杯赛”体系，打造轻量化、高还原度的“自娱自乐式”电竞赛事模拟游戏。通过自动化赛程生成、胜负判定、积分统计及可视化展示，替代手工记录，完整复现从联赛到跨年度杯赛的全流程，聚焦赛事模拟的真实性与操作便捷性。

### 1.3 项目目标
1. 支持4个赛区×14支战队管理
2. 实现年度常规赛事周期，及每2年1次（世界赛结束后）的“洲际超级杯赛”跨年度周期；
3. 自动化完成各赛事赛程生成、基于战力值还有算法自动判断比赛胜负，主打一个自娱自乐，作为一个模拟工具。
4. 提供全赛事可视化对阵图（含抽签过程）、战队数据中心（含历史交锋分析）、年度/跨年度积分总结；
5. 最终生成年度全球前16战队排名及洲际超级杯赛冠军，满足用户对赛事全流程模拟的需求。


## 二、核心功能模块
### 2.1 基础数据管理模块
#### 2.1.1 赛区管理
- 固定4个赛区，不用支持自定义，就固定四个赛区，分别是“LPL”“LCK”“LEC”“LCS”；中国赛区，韩国赛区，欧洲赛区，北美赛区
- 每个赛区绑定14支战队 不支持自动修改，但是可以修改名称

#### 2.1.2 战队管理界面
- **战队列表**：以表格展示所有战队，包含信息：
  - 基础信息：战队名称、所属赛区，需要做出筛选的功能，可以搜索战队名称，赛区，战力值，来筛选
  - 数据概览：总场次、胜场、胜率、年度积分、跨年度积分（用于洲际赛资格）；
  - 然后点击战队详情页面会显示，这个队伍获得的荣誉 跟后面的荣誉管理界面绑定 
- **编辑功能**：点击战队条目打开编辑窗口，修改名称 
- **筛选功能**：按赛区、胜率区间、战力值区间筛选战队，快速定位目标队伍。

#### 2.1.3 周期管理-时间推进引擎
  - 比赛周期是 春季联赛 - MSI国际邀请赛 - 马德里大师赛 - 夏季联赛 - Claude洲际赛 - S世界赛 - 上海大师赛 - ICP四赛区洲际对抗赛 - Super洲际年度邀请赛 - 转会期 - 选秀 - 赛季结束
  - 我们这个游戏的时间不按照真实年份，统一按照 S1 S2 这样来推进，每年的赛季从春季赛开始，到赛季结束为止，然后下一个赛季开始新的S2赛季
  - 然后为了在首页仪表盘中可以看见目前游戏进行到了哪一步，需要有一个时间推进的引擎，专门负责记录现在到了什么阶段，防止误操作，比如现在是春季赛阶段，那么不属于春季赛的其他阶段，比如MSI季中赛， Madrid大师赛，夏季赛，Claude洲际赛，S世界赛，上海大师赛，ICP四赛区洲际对抗赛，Super洲际年度邀请赛，转会期，选秀，赛季结束 这些阶段，都不能进行操作，只能等春季赛结束了，才可以进行MSI季中赛的操作 。

#### 2.1.4 赛季选择与历史数据查看系统

**核心设计理念**：
- 游戏中存在两个概念：「当前活跃赛季」和「查看赛季」
- 「当前活跃赛季」：游戏正在进行的赛季，决定游戏进度
- 「查看赛季」：用户当前正在浏览的赛季数据，可以是历史赛季

**功能说明**：

1. **赛季选择器**（位于仪表盘顶部）
   - 下拉选择框显示所有可用赛季（如 S1、S2、S3...）
   - 当前活跃赛季会标注"（当前）"标签
   - 切换赛季后，相关页面数据会更新为该赛季的数据

2. **当前阶段显示**
   - 在仪表盘显示当前游戏进行到哪个阶段
   - 例如："当前阶段：春季赛常规赛"
   - 显示赛季进度条（已完成阶段数/总阶段数）

3. **历史赛季提示**
   - 当用户查看非当前赛季（历史赛季）时，显示黄色警告提示
   - 提示内容："您正在查看 S1 赛季的历史数据"
   - 提供"返回当前赛季"按钮，快速切换回正在进行的赛季

**数据分类规则**：

| 页面类型 | 数据显示方式 | 说明 |
|---------|-------------|------|
| 赛事管理 | 按赛季显示 | 每个赛季的赛事独立，切换赛季看不同赛事数据 |
| 战队管理 | 累计显示 | 战队数据随赛季累积，不按赛季分 |
| 选手中心 | 累计显示 | 选手数据随赛季累积，不按赛季分 |
| 荣誉殿堂 | 可筛选 | 支持"全部赛季"和单独赛季筛选 |
| 积分排名 | 按赛季显示 | 显示当前查看赛季的积分排名 |

**技术实现**：
- 使用 Pinia Store（`useSeasonStore`）管理赛季状态
- 数据持久化到 localStorage
- 14个游戏阶段定义：
  1. spring_regular（春季赛常规赛）
  2. spring_playoffs（春季赛季后赛）
  3. msi（MSI 季中邀请赛）
  4. madrid（马德里大师赛）
  5. summer_regular（夏季赛常规赛）
  6. summer_playoffs（夏季赛季后赛）
  7. claude（Claude 洲际赛）
  8. worlds（S 世界赛）
  9. shanghai（上海大师赛）
  10. icp（ICP 洲际对抗赛）
  11. super（Super 洲际邀请赛）
  12. transfer（转会期）
  13. draft（选秀）
  14. season_end（赛季结束）

**UI 布局示意**：

```
┌─────────────────────────────────────────────────────────────────┐
│  ┌──────────┐  当前阶段：春季赛常规赛     进度：[████░░░░] 3/14 │
│  │ S2 (当前)│                                                   │
│  └──────────┘                                                   │
├─────────────────────────────────────────────────────────────────┤
│  ⚠️ 您正在查看 S1 赛季的历史数据    [返回当前赛季 (S2)]         │
├─────────────────────────────────────────────────────────────────┤
│                         页面内容区域                             │
└─────────────────────────────────────────────────────────────────┘
```


#### 核心，比赛模拟引擎 核心
 - 我们是根据战力值来决定胜负的，但是又有很多因素是来决定战力值的，是一个解耦设计，
 - 首先 比赛核心是根据正态分布算法的来计算的，战力值高的就是有高概率获胜，但是并不绝对，仍然有爆冷的因素在
 - 模拟算法：找到了！在 ScheduleService.ts
  中使用的是
  正态分布（高斯分布）算法，基于
  Box-Muller 变换。

  比赛模拟算法 - 正态分布

  核心参数

  private readonly STD_DEV = 6; // 
  标准差（σ）- 控制发挥波动程度

  Box-Muller 变换生成正态分布随机数

  private gaussianRandom(mean: number,
  stdDev: number): number {
    const u1 = Math.random();
    const u2 = Math.random();

    // Box-Muller变换
    const z0 = Math.sqrt(-2.0 *
  Math.log(u1)) * Math.cos(2.0 *
  Math.PI * u2);

    return mean + z0 * stdDev;
  }

  比赛模拟流程

  // 每一局都重新生成发挥值（基于正态分
  布）
  const homePerformance =
  this.gaussianRandom(homePowerRating,
  this.STD_DEV);
  const awayPerformance =
  this.gaussianRandom(awayPowerRating,
  this.STD_DEV);

  // 发挥值高的队伍获胜
  const gameWinner = homePerformance >
  awayPerformance ? homeTeam.id :
  awayTeam.id;

  算法原理

  1. 每局独立模拟：每一小局都会重新计算
  双方的"临场发挥值"
  2. 发挥值 = 正态分布(战力值, 标准差)
    - 均值 = 队伍的
  powerRating（基础战力）
    - 标准差 σ = 6（控制波动幅度）
  3. 比较发挥值决定胜负：哪队这局的发挥
  值高，哪队赢

  标准差的意义（σ=6）

  - 约 68% 的发挥值落在 [战力值-6, 
  战力值+6] 范围内
  - 约 95% 的发挥值落在 [战力值-12, 
  战力值+12] 范围内
  - 约 99.7% 的发挥值落在 [战力值-18, 
  战力值+18] 范围内

  例子

  - A队战力80，B队战力70
  - 某局比赛：
    - A的发挥值可能是
  gaussianRandom(80, 6) → 比如 76
    - B的发挥值可能是
  gaussianRandom(70, 6) → 比如 78
    - B队发挥值更高 →
  B队赢这局（爆冷！）

  为什么用正态分布而不是简单概率？

  1. 更真实：模拟选手/队伍的"状态波动"
  2. 允许爆冷：弱队超常发挥可以战胜强队
  3. 每局独立：同一场比赛可能出现翻盘（
  先输后赢）
 - 其次 队伍的战力值又是靠队员的能力值来计算的，好的！以下是一套简洁、清晰、有逻辑的队员能力计算建模方案，用纯文字描述，涵盖你提到的所有要素：

🎯 核心思想

每个队员在每场比赛中会有一个 实际发挥能力值，它以该队员的 平均能力 为基础，受到 当前状态加成 和 随机波动 的影响，并通过 上下限 控制极端情况。
同时，年龄 作为隐藏底层属性，动态影响 状态加成潜力 和 稳定性，体现“年轻人上限高但飘，老将稳但难爆发”的特点。

一、基础属性

每个队员拥有以下显性/隐性属性：

1. 平均能力（Base Power）
范围通常为 0～100
代表该队员长期表现的平均水平（如 85）

2. 年龄（Age）
隐性属性，不直接参与公式，但用于调节其他参数
典型区间：18～36 岁

3. 稳定性（Stability）
数值范围：0～100
由年龄决定：年龄越大，稳定性越高
例如：25岁以下 → 稳定性 = 60～75
30岁以上 → 稳定性 = 85～95
稳定性越高，临场发挥越接近平均能力，波动越小

4. 状态加成（Form Bonus）
临时浮动值，可正可负（如 +3、-2）
受年龄影响上限：
年轻队员（如 ≤24岁）：状态加成可能高达 +5 到 +8（“天神下凡”）
中生代（25～29岁）：通常 ±3 以内
老将（≥30岁）：状态加成一般不超过 +2，且很少为负（经验丰富，不易低迷）
实际比赛中，状态加成可由训练、士气、对手克制等因素动态生成

二、实际能力计算流程

1. 确定稳定性 σ（波动程度）
标准差 σ = (100 − 稳定性) ÷ 10
例：稳定性 90 → σ = 1（几乎不波动）；稳定性 60 → σ = 4（波动大）

2. 生成随机扰动（高斯噪声）
使用高斯分布（正态分布）生成一个随机数，均值为 0，标准差为 σ
这个扰动模拟临场发挥的“运气”或“手感”

3. 计算原始实际能力
原始能力 = 平均能力 + 状态加成 + 高斯噪声

4. 应用上下限（钳位）
下限 = max(0, 平均能力 − 15)
防止“梦游级”表现
上限 = min(100, 平均能力 + 10)
防止“超人级”破坏平衡
最终实际能力 = 把原始能力限制在 [下限, 上限] 区间内

三、年龄如何影响整体表现风格

年龄段 稳定性 状态加成潜力 表现特点
-------- -------- ---------------- ----------
18–24岁（新星） 较低（60–75） 极高（可达 +6~+8） “神经刀”：可能一场打爆对手，也可能隐身；上限高，下限也低
25–29岁（巅峰） 中高（75–85） 中等（±3） 最可靠：状态稳定，偶尔有高光，极少失常
30–36岁（老将） 很高（85–95） 低（通常 0~+2） “油条型”：几乎不会崩盘，但很难打出惊艳表现；靠经验稳住下限
✅ 这样设计后，系统自然涌现出“青春风暴 vs 老辣经验”的战术差异，无需额外规则。

四、总结一句话
队员的实际能力 = 平均能力 + 受年龄限制的状态加成 + 受年龄影响的稳定性所决定的随机波动，最终被合理上下限约束。

- 然后以每一小局为单位 调用这个比赛模拟引擎，因为复用程度很高！ 然后计算出个个队员的能力值之后，这个能力值的1/5就是他的对这场比赛的贡献值，然后五个人的贡献值加起来就是这个队伍的战力值，然后通过上面的战力值计算比赛模拟，就可以知道胜负关系，这一套引擎算法是游戏的核心 也可以分为两个引擎，选手战力计算引擎跟比赛模拟引擎

---

### 引擎系统具体实现（前端 TypeScript 版本）

#### 一、选手引擎 PlayerEngine

**文件位置**：`src/engines/PlayerEngine.ts`

**核心功能**：计算每位选手在每局比赛中的实际发挥能力值

**算法实现**：

```typescript
// Box-Muller 变换生成标准正态分布随机数
static gaussianRandom(): number {
  const u1 = Math.random()
  const u2 = Math.random()
  const z0 = Math.sqrt(-2.0 * Math.log(u1)) * Math.cos(2.0 * Math.PI * u2)
  return z0
}

// 根据稳定性计算标准差
// 稳定性越高，波动越小
static calculateStabilitySigma(stability: number): number {
  return (100 - stability) / 10
}

// 计算选手单局实际发挥
static calculatePerformance(player: Player): PlayerPerformance {
  const sigma = this.calculateStabilitySigma(player.stability)
  const noise = this.gaussianRandom() * sigma

  // 原始能力 = 基础能力 + 状态加成 + 高斯噪声
  const rawAbility = player.ability + player.condition + noise

  // 上下限钳位
  const minAbility = Math.max(0, player.ability - 15)
  const maxAbility = Math.min(100, player.ability + 10)
  const actualAbility = Math.max(minAbility, Math.min(maxAbility, rawAbility))

  return {
    playerId: player.id,
    playerName: player.gameId,
    position: player.position,
    baseAbility: player.ability,
    conditionBonus: player.condition,
    stabilityNoise: noise,
    actualAbility: actualAbility,
    impactScore: 0  // 后续由 PowerEngine 计算
  }
}
```

**设计要点**：
- 稳定性90的选手：σ=1，发挥极其稳定
- 稳定性60的选手：σ=4，波动较大（年轻选手典型值）
- 状态加成（condition）：-10 ~ +10，代表近期状态
- 钳位范围：[ability-15, ability+10]，防止极端值

---

#### 二、战力引擎 PowerEngine

**文件位置**：`src/engines/PowerEngine.ts`

**核心功能**：基于5名选手计算队伍战力，模拟比赛胜负

**队伍战力计算**：

```typescript
// 队伍战力 = 5名选手实际能力的平均值
static calculateTeamPower(performances: PlayerPerformance[]): number {
  const total = performances.reduce((sum, p) => sum + p.actualAbility, 0)
  return total / performances.length
}

// 队伍发挥值 = 正态分布(队伍战力, σ=6)
static calculateTeamPerformanceValue(teamPower: number): number {
  const sigma = 6
  const noise = this.gaussianRandom() * sigma
  return teamPower + noise
}
```

**单局模拟**：

```typescript
static simulateGame(
  teamAPerformances: PlayerPerformance[],
  teamBPerformances: PlayerPerformance[],
  gameNumber: number
): GameDetail {
  const teamAPower = this.calculateTeamPower(teamAPerformances)
  const teamBPower = this.calculateTeamPower(teamBPerformances)

  // 计算发挥值（关键！决定胜负）
  const teamAPerformance = this.calculateTeamPerformanceValue(teamAPower)
  const teamBPerformance = this.calculateTeamPerformanceValue(teamBPower)

  // 发挥值高者获胜
  const winnerId = teamAPerformance > teamBPerformance ? 'teamA' : 'teamB'

  // 计算每名选手的影响力分数
  // impactScore = 选手实际能力 - 队伍平均战力
  // 正值表示超常发挥，负值表示拖后腿

  return { gameNumber, teamAPower, teamAPerformance, ... }
}
```

**比赛模拟（支持 BO1/BO3/BO5）**：

```typescript
static simulateMatch(
  teamAPlayers: Player[],
  teamBPlayers: Player[],
  bestOf: number,  // 1, 3, 或 5
  matchInfo: {...}
): MatchDetail {
  const games: GameDetail[] = []
  let scoreA = 0, scoreB = 0
  const targetWins = Math.ceil(bestOf / 2)

  while (scoreA < targetWins && scoreB < targetWins) {
    // 每局重新计算所有选手的发挥
    const teamAPerfs = teamAPlayers.map(p => PlayerEngine.calculatePerformance(p))
    const teamBPerfs = teamBPlayers.map(p => PlayerEngine.calculatePerformance(p))

    const game = this.simulateGame(teamAPerfs, teamBPerfs, games.length + 1)
    games.push(game)

    if (game.winnerId === teamAId) scoreA++
    else scoreB++
  }

  // 分析 MVP 和关键选手
  const analysis = this.analyzeMatch(games, ...)

  return { matchId, games, finalScoreA, finalScoreB, mvpPlayerId, ... }
}
```

---

#### 三、比赛详情数据结构

**文件位置**：`src/types/matchDetail.ts`

**单局详情 GameDetail**：

```typescript
interface GameDetail {
  gameNumber: number          // 第几局
  teamAPower: number          // A队战力值
  teamAPerformance: number    // A队发挥值
  teamAPlayers: PlayerPerformance[]  // A队5名选手详情
  teamBPower: number          // B队战力值
  teamBPerformance: number    // B队发挥值
  teamBPlayers: PlayerPerformance[]  // B队5名选手详情
  winnerId: string            // 本局获胜方
  powerDifference: number     // 战力差（A-B）
  performanceDifference: number  // 发挥差（A-B）
}
```

**完整比赛详情 MatchDetail**：

```typescript
interface MatchDetail {
  matchId: string
  teamAId: string
  teamAName: string
  teamBId: string
  teamBName: string
  bestOf: number              // BO1/BO3/BO5
  games: GameDetail[]         // 所有局的详情
  finalScoreA: number         // 最终比分
  finalScoreB: number
  winnerId: string            // 最终获胜方

  // MVP 分析
  mvpPlayerId?: string
  mvpPlayerName?: string
  mvpImpact?: number          // MVP 的累计影响力

  // 关键选手（表现异常突出或拉胯的选手）
  keyPlayer?: {
    playerId: string
    playerName: string
    reason: string            // "高发挥" | "低发挥"
    impactScore: number
  }
}
```

---

#### 四、选手年度统计

**文件位置**：`src/stores/usePlayerStore.ts`

**数据结构**：

```typescript
interface PlayerSeasonStats {
  playerId: string
  playerName: string
  position: PlayerPosition
  teamId: string
  seasonId: string
  gamesPlayed: number         // 参与局数
  totalImpact: number         // 累计影响力
  avgImpact: number           // 平均影响力 = totalImpact / gamesPlayed
  bestPerformance: number     // 最佳单局发挥
  worstPerformance: number    // 最差单局发挥
  consistencyScore: number    // 稳定性评分（0-100）
}
```

**年度影响力排行**：

使用 `getSeasonImpactRanking(seasonId, limit)` 方法获取年度选手排行榜：
- 按平均影响力（avgImpact）降序排列
- 支持按位置筛选（TOP/JUG/MID/ADC/SUP）
- 展示在"选手统计"页面（`/player-statistics` 路由）

**影响力计算公式**：

```
单局影响力 = 选手实际发挥 - 队伍平均战力
年度平均影响力 = 累计影响力 / 参与局数
```

- 影响力 > 0：超常发挥，带动队伍
- 影响力 < 0：表现低迷，拖累队伍
- 影响力 > 5：极度超神表现
- 影响力 < -5：严重拉胯表现

---

#### 五、数据持久化

**存储方式**：localStorage

**存储键**：
- `esport-match-details`：比赛详情数据
- `esport-player-stats`：选手统计数据

**数据结构**：

```typescript
// localStorage: esport-match-details
{
  matchDetails: Record<string, MatchDetail>,  // matchId -> detail
  lastUpdated: string
}

// localStorage: esport-player-stats
{
  playerStats: Record<string, PlayerSeasonStats>,  // playerId-seasonId -> stats
  lastUpdated: string
}
```

---

#### 六、UI 组件说明

**比赛详情弹窗**：`src/components/match/MatchDetailDialog.vue`
- 触发方式：点击已完成比赛的"查看详情"按钮
- 展示内容：比赛概要、MVP、每局选项卡、关键选手分析
- 支持数据导出

**单局详情组件**：`src/components/match/GameDetailView.vue`
- 战力对比进度条
- 发挥值对比
- 选手表现表格（位置、选手、基础能力、实际发挥、影响力）
- 影响力颜色标识（正值绿色、负值红色）

**年度统计页面**：`src/views/PlayerStatistics.vue`
- 路由：`/player-statistics`
- 功能：赛季筛选、位置筛选、影响力排行榜、各位置MVP展示

---

###
### 2.2 年度常规赛事系统
#### 2.2.1 联赛（春季赛）
- **常规赛**：
  - 赛制：BO3双循环（每支战队与同赛区其他战队各交手2次）；
  - 赛程生成：自动生成赛区比赛，按轮次排序，支持查看每轮对阵；
  - 积分规则：2:0胜积3分、2:1胜积2分、2:1负积1分、2:0负积0分；
  - 进度管理：按轮次推进，每轮结束后自动更新赛区积分榜（按积分降序，积分相同按“历史交锋胜率→总净胜小局数”排序）。

- **季后赛**：
  - 晋级规则：常规赛前8名进入季后赛；
  - 分组：第1-4名进胜者组，第5-8名进败者组；
  - 赛制流程（双败BO5）：
    1. 胜者组第一轮：1 vs 4  2 vs 3 胜者进胜者组第二轮，败者进败者组第二轮
    2. 败者组第一轮：5 vs 8 ，6 vs 7 → 胜者进败者组第二轮，败者淘汰
    3. 胜者组第二轮（胜者组决赛）：两个胜者组第一轮对决，胜利者进决赛，败者掉入败者组决赛
    4. 败者组第二轮：第一轮败者组胜者跟胜者组第一轮败者对决，胜者进败者组第三轮，败者淘汰，
    5. 败者组第三轮：是两只败者组第二轮胜利的队伍两两对决，胜利者进入败者组决赛跟胜者组决赛掉入的队伍pk，胜者进入决赛，
    6. 总决赛：胜者组决赛胜者 vs 败者组决赛胜者 → 决出冠（12分）、亚（10分）；
  - 积分奖励：冠军12分、亚军10分、季军8分、第4名6分，常规赛第5-8名各3分（计入年度积分）。

#### 2.2.2 MSI季中赛
- **参赛队伍**：12支（4赛区春季赛冠/亚/季军：冠军进传奇组、亚军进挑战者组、季军进资格赛组）；
- **赛制流程（双败BO5）**：
  1. 预选赛：
     - 资格赛组：4队两两BO5单淘汰，2名胜者进败者组第一轮；
     - 挑战者组：4队PK，2名胜者进败者组第二轮，2败者进败者组第一轮；
  2. 正式阶段：
     - 败者组第一轮：资格赛胜者 vs 挑战者组败者 → 胜者进败者组第二轮；
     - 败者组第二轮：挑战者组胜者 vs 败者组第一轮胜者 → 胜者进败者组第三轮；
     - 胜者组第一轮：4传奇组对决 → 胜者进胜者组第二轮，败者进败者组第三轮；
     - 败者组第三轮：败者组第二轮胜者 vs 胜者组第一轮败者 → 2名胜者进败者组第四轮；
     - 败者组第四轮：2胜者对决 → 攀登者胜者；
     - 胜者组第二轮：2胜者对决 → 胜者进总决赛，败者与攀登者胜者PK；
     - 败者组决赛：胜者组第二轮败者 vs 攀登者胜者 → 胜者进总决赛；
     - 总决赛：胜者组冠军 vs 败者组决赛胜者 → 决冠亚；
- **积分奖励**：冠军20分、亚军16分、季军12分、殿军8分、败者组第二轮6分、败者组第一轮4分（计入年度积分）。


- #### 2.2.2 - 马德里大师赛 claude一样
- 详细规则：
根据春季赛常规赛的排名为准，最终，每个赛区的前8名获得资格。很简单的规则，四个赛区一共32支队伍，分成8个小组，ABCDEFGH组，每个小组四支队伍，分为小组赛跟淘汰赛，小组赛时组内BO3单循环，2:0 得 3分 2:1胜者得2分 1:2败者 1分 0:2败者 0分，组内单循环完成后最终 组内前两名晋级淘汰赛，淘汰赛时单场BO5淘汰赛，分为东西半区，东半区四个8个队伍，西半区八个队伍，然后分别进行，轮次分别为，东半区淘汰赛第一轮，东半区淘汰赛半决赛，东半区淘汰赛决赛，西半区淘汰赛第一轮，西半区淘汰赛半决赛，西半区淘汰赛决赛，季军赛，总决赛。

然后赛事性质主要是为了赢取赛事积分，
冠军20分、亚军16分、季军12分、殿军8分、东西半区淘汰赛决赛败者6分，东西半区淘汰赛半决赛败者4分，东西半区淘汰赛第一轮败者2分，



#### 2.2.3 世界赛（夏季赛后举办）
- **参赛队伍**：12支（4赛区夏季赛冠/亚/季军：冠军直接进淘汰赛，亚/季军进小组赛）；
- **赛制流程**：
  1. 小组赛：8支（亚/季军）BO1瑞士轮，决出4队晋级淘汰赛；
  2. 淘汰赛：8支（4直接晋级+4小组赛晋级）单淘汰BO5，决冠亚；
  3. 季军赛：半决赛败者BO5决季军；
- **积分奖励**：冠军20分、亚军16分、季军12分、殿军8分、淘汰赛第一轮6分、其余4分（计入年度积分）

- Claude洲际赛 
- Clauch洲际赛，他也是一个洲际比赛，性质是一个全世界锦标赛，可以获得赛事积分，可以设置在赛事管理下面，

详细规则：
根据夏季赛常规赛的排名为准，最终，每个赛区的前8名获得资格。很简单的规则，四个赛区一共32支队伍，分成8个小组，ABCDEFGH组，每个小组四支队伍，分为小组赛跟淘汰赛，小组赛时组内BO3单循环，2:0 得 3分 2:1胜者得2分 1:2败者 1分 0:2败者 0分，组内单循环完成后最终 组内前两名晋级淘汰赛，淘汰赛时单场BO5淘汰赛，分为东西半区，东半区四个8个队伍，西半区八个队伍，然后分别进行，轮次分别为，东半区淘汰赛第一轮，东半区淘汰赛半决赛，东半区淘汰赛决赛，西半区淘汰赛第一轮，西半区淘汰赛半决赛，西半区淘汰赛决赛，季军赛，总决赛。

然后赛事性质主要是为了赢取赛事积分，
冠军20分、亚军16分、季军12分、殿军8分、东西半区淘汰赛决赛败者6分，东西半区淘汰赛半决赛败者4分，东西半区淘汰赛第一轮败者2分，

### 上海大师赛规则跟msi一样
#### 2.2.2 MSI季中赛
- **参赛队伍**：12支（4赛区夏季赛冠/亚/季军：冠军进传奇组、亚军进挑战者组、季军进资格赛组）；
- **赛制流程（双败BO5）**：
  1. 预选赛：
     - 资格赛组：4队两两BO5单淘汰，2名胜者进败者组第一轮；
     - 挑战者组：4队PK，2名胜者进败者组第二轮，2败者进败者组第一轮；
  2. 正式阶段：
     - 败者组第一轮：资格赛胜者 vs 挑战者组败者 → 胜者进败者组第二轮；
     - 败者组第二轮：挑战者组胜者 vs 败者组第一轮胜者 → 胜者进败者组第三轮；
     - 胜者组第一轮：4传奇组对决 → 胜者进胜者组第二轮，败者进败者组第三轮；
     - 败者组第三轮：败者组第二轮胜者 vs 胜者组第一轮败者 → 2名胜者进败者组第四轮；
     - 败者组第四轮：2胜者对决 → 攀登者胜者；
     - 胜者组第二轮：2胜者对决 → 胜者进总决赛，败者与攀登者胜者PK；
     - 败者组决赛：胜者组第二轮败者 vs 攀登者胜者 → 胜者进总决赛；
     - 总决赛：胜者组冠军 vs 败者组决赛胜者 → 决冠亚；
- **积分奖励**：冠军20分、亚军16分、季军12分、殿军8分、败者组第二轮6分、败者组第一轮4分（计入年度积分）。

- 四赛区洲际对抗赛
- 每个赛区夏季赛的前四只队伍，第一名为一号种子，第二名为二号种子，以此类推，
- 然后四个赛区一共16只队伍，然后四只一号种子分为a组 二号种族为b组以此类推
- 然后进行组内bo3单循环的赛制，最终决出前两名，或者一个徽章，败者没有徽章
- 然后四个赛区分别计算 所获得的徽章数量，如果能分出前两名，那么直接进行决赛，决赛是两个赛区的分别四只队伍进行pk，比如一号种子打一号种子，bo5淘汰赛
- 如果战斗到最后一场，则派出一号种子再来pk
- 如果徽章数量可以排出前三名，那么后两名先进行半决赛，然后进入决赛跟第一名赛区进行pk，决出最强赛区
- 最强赛区每只参赛队伍获得12分，未参赛队伍获得 6分 第二名赛区参赛队伍 获得8分，未参赛获得 4分 第三名参赛获得 6 未参赛 3分， 第四名赛区 参赛获得 4 未参赛 2分 




#### 2.2.4 年度积分 引擎
- 这个引擎 是游戏进行的关键，需要在 每个阶段赛事后，比如春季赛结束，大师赛结束等，每个阶段之后，计算每个队伍的赛事积分，然后累加到年度积分上面去
- 然后会有一个专门的积分排名的页面，持续有一个全年年度积分排名的榜单，每个阶段之后都会自动更新，然后点击每个队伍的详情还可以知道，这些分数是从哪里来的，详细的


### 2.3 跨年度赛事：洲际超级杯赛（Intercontinental Super Cup）
#### 2.3.1 赛事周期与参赛资格
- **周期**：每1年1次，在年末
- **参赛资格**：每年年度积分总和排名全球前16的战队，分组如下：
  - 传奇组：第1-4名（4支）；
  - 挑战者组：第5-8名（4支）；
  - Fighter组：第9-16名（8支）；
）。

#### 2.3.2 赛制流程（四阶段BO5，含季军加赛）
**第一阶段：Fighter组预选赛**
- 分组：8支战队随机抽签分A、B两组（每组4支）；
- 赛制：BO3单循环（每队与同组3队各交手1次）；
- 晋级规则：每组第1名（共2支）晋级第二阶段，其余6支淘汰（各得2分）。

**第二阶段：挑战者组定位赛与晋级赛**
- **定位赛**：4支挑战者组（5-8名）随机抽签两两对阵（如5 vs 8、6 vs 7），BO5单淘汰；
  - 结果：2名胜者进第三阶段“胜者组”，2名败者进“晋级赛”；
- **晋级赛**：2支挑战者组败者 vs 2支Fighter组晋级者（A组第1 vs 定位赛败者1、B组第1 vs 定位赛败者2），BO5单场；
  - 结果：2名胜者进第三阶段“败者组”，2名败者淘汰（各得5分）。

**第三阶段：冠军赛预备战**
- **胜者组**：2支定位赛胜者BO5单淘汰 → 1名胜者进第四阶段，1名败者进“败者组决赛”；
- **败者组**：2支晋级赛胜者BO5单淘汰 → 1名胜者进“败者组决赛”，1名败者淘汰（得8分）；
- **败者组决赛**：胜者组败者 vs 败者组胜者BO5 → 1名胜者进第四阶段，1名败者淘汰（得8分）。

**第四阶段：终极冠军赛（6支队伍，含季军加赛）**
- **参赛队伍**：传奇组4支（1-4名）+ 第三阶段晋级2支（胜者组胜者+败者组决赛胜者）；
- **首轮对阵**（随机抽签确定具体对位，避开同赛区优先）：
  - 传奇组第4名 vs 第三阶段胜者组胜者（BO5）；
  - 传奇组第3名 vs 第三阶段败者组决赛胜者（BO5）；
- **次轮对阵**：
  - 首轮胜者1 vs 传奇组第1名（BO5）；
  - 首轮胜者2 vs 传奇组第2名（BO5）；
- **季军加赛**：次轮2支败者BO5 → 决出季军（得25分），败者为殿军（得20分）；
- **总决赛**：次轮2名胜者BO5 → 决出冠军（得35分）、亚军（得30分）。

#### 2.3.4 抽签流程（可视化）
- **抽签触发时机**：
  1. Fighter组预选赛：确定A/B组分组（8支队伍随机抽签）；
  2. 挑战者组定位赛：确定4支队伍的两两对阵（5-8名随机抽签）；
  3. 第四阶段首轮：确定传奇组4名与第三阶段晋级2支的对阵（避开同赛区优先）；
- **可视化效果**：
  - 抽签界面：模拟“抽签池”动画，点击“开始抽签”后，队伍名称依次落入对应分组/对阵位置；
  - 结果公示：抽签结束后生成分组表/对阵图，标注抽签结果，支持截图保存；
  - 历史回溯：支持查看历届洲际赛各阶段抽签结果与对应赛程。



#### 选秀系统引擎 以及队员系统
现在的主要的游戏模拟逻辑是队伍有个战力值，然后通过队伍战力算法去计算。好的，现在这个新的系统完全不会影响到游戏模拟方面的逻辑，但是，我想引入选手系统，来影响队伍的战力值。这样可以跟游戏模拟独立开来，不用完全重构。
首先说选手，选手会有 id（这个是数字）还有一个游戏ID 国籍，姓名，年龄，能力值，潜力值。状态（在役/退役）还有就是上面选手战力引擎提到的，上下线，稳定性，还有然后有标签，我打算设计三种，平庸，一般，天才。标签不会影响潜力值跟能力值，这个定死了。是影响的是能力的增加，平庸的选手一个赛季结束后会增加1点，一般会增加2点，天才会增加3点。选手年龄最大是30岁，最小是16岁，

然后一个战队只能有五位选手出战，战队默认会将战力值最高的选手上，如果战力值相同，则选择年龄大的，那位选手的能力值就是队伍的战力值，一个赛年只能决定一位选手出战这个赛季，就是将这位选手的战力值作为队伍的战力值，然后在这个赛季中，队伍的战力值就不会再改变了，直到下一个赛季。然后进行模拟比赛

每个赛季结束后，算作赛季结束，因为可以生成下一个赛季的春季赛常规赛了！会有一个更新环节，可以是更新按钮，跟春季赛生成按键可以分开也可以，然后首先年龄会增加，然后战力值按照标签规定的来增加，等到战力值与潜力值相等后就不会变了，等到下一赛季开始，队伍的战力值就会更新，然后再进行模拟比赛，直到赛季结束。以此循环，如果选手到了退役年龄，就会退役，从战队删除，然后就不会再加入到队伍中，能力值也不会加，潜力值也不会加，然后在数据库中记录他退役的赛季，比如S8退役这样

然后我希望左侧有一个选手列表，点进去可以看见所有的选手，属于哪只队伍，年龄，能力值，潜力值，标签，当前赛季的战力值，当前赛季的潜力值，当前赛季的年龄，点击详情界面还可以看到他的荣誉，获得了什么，比如在s1赛季的c洲际赛中，他获得了冠军，那么就会显示在详情界面，他在s1赛季的c洲际赛中获得了冠军等，



有人会退役，就有人会新来，我打算启动一个叫选秀系统，在左侧导航栏有一个选秀，然后选秀下面有四个子导航，分别是LPL中国大陆赛区选秀，LCK韩国赛区选秀，LEC欧洲赛区选秀，LCS北美赛区选秀，选秀时间四个赛季一次，第一次选秀在S2，第二次在S6，以此类推。

选秀规则如下：
首先四个赛区按照夏季赛常规赛的排名为准，1-14名，然后选秀名单是14人，已经提前会存放在数据库中（一般是由我来导入）需要提供一个导入的按钮，可以导入斤选秀池，就是已经确定了，状元，探花，榜眼，然后 45678910名，已经确定下来了。然后这10支队伍就遵循一个原则：名次越靠前比如第一，获得最强的状元选手的概率就越少，但并不是没有，名次越靠后获得的概率越高，但不是一定。需要有一个算法

选秀流程如下：先在前端展示今年的选秀名单，队员名称，战力值，潜力值，标签这样，然后开始选秀权抽签，有个过程，点一下就出现一个，或者有个一键功能，等所有队伍完成获取选秀前的抽签后，再点击一下，队员就会填入相对应的队伍，然后更新数据，然后结束选秀，然后就可以进入到转会系统


#### 转会系统
  转会市场与财政系统 - 详细设计文档

  ---
  一、转会市场AI逻辑

  1.1 转会窗口时机

  转会窗口在每个赛季结束后、选秀之前开放，持续时间为玩家
  点击"结束转会期"按钮前。

  赛季流程：
  世界赛结束 → 转会窗口开放 → 玩家点击结束 → 选秀 → 
  新赛季开始

  1.2 转会类型

  | 类型   | 触发条件      | 说明             |
  |------|-----------|----------------|
  | 合同到期 | 合同剩余0年    |
  选手变为自由球员，无需转会费 |
  | 主动求购 | AI判断需要补强  | 球队向其他球队报价
   |
  | 被动出售 | 财政困难/选手冗余 | 球队挂牌出售选手
    |
  | 退役   | 年龄过大/能力过低 | 选手离开职业圈        |
  | 租借   | 替补选手外借    | 临时转会，赛季结束归还
   |

  1.3 AI球队需求评估

  每支AI球队在转会窗口开启时，系统会评估其需求：

  评估维度：

  1. 阵容完整性：是否每个位置都有首发和替补
  2. 位置短板：哪个位置能力值最低
  3. 年龄结构：平均年龄是否过大（需要年轻化）或过小（需
  要老将压阵）
  4. 财政状况：预算是否充足
  5. 竞争目标：上赛季排名决定野心程度

  需求优先级：
  - 空缺位置 > 明显短板 > 年龄优化 > 深度补充

  1.4 AI转会决策逻辑

  买入逻辑

  当AI球队决定买入时，按以下步骤执行：

  1. 确定目标位置：根据需求评估选择最需要补强的位置
  2. 筛选候选人：从自由球员市场和其他球队挂牌名单中筛选
  3. 评估性价比：综合考虑能力值、年龄、身价、薪资
  4. 预算检查：确认转会费+薪资在承受范围内
  5. 发起报价：如果是挂牌球员，直接购买；如果是非卖品，
  提高报价尝试

  筛选条件优先级：
  - 强队：优先能力值，次要考虑年龄
  - 弱队：优先性价比，倾向年轻高潜力
  - 重建队：只要年轻+高潜力，能力值可以较低

  卖出逻辑

  AI球队会在以下情况挂牌出售选手：

  1. 财政压力：赤字状态必须卖人
  2. 阵容冗余：同位置有3人以上
  3. 能力下滑：老将能力值跌破队内标准
  4. 高价套现：收到远超身价的报价

  定价策略：
  - 核心球员：身价 × 1.5（不想卖，但高价可谈）
  - 普通球员：身价 × 1.0
  - 冗余球员：身价 × 0.8（急于出手）
  - 财政困难：身价 × 0.6（跳楼价）

  1.5 自由球员市场

  合同到期的选手自动进入自由球员市场，特点：

  - 无需转会费，只需支付薪资
  - 多支球队可同时报价
  - 选手根据以下因素选择去向：
    a. 薪资高低（权重40%）
    b. 球队竞争力（权重30%）
    c. 上场机会（权重20%）
    d. 随机因素（权重10%）

  1.6 转会事件生成

  系统在转会窗口期间自动生成转会事件，玩家可以选择：
  - 快进：一键完成所有转会
  - 逐步：一个个查看转会事件
  - 干预：对特定转会进行否决或修改（可选功能）

  事件生成频率：
  - 每轮生成3-8个转会事件
  - 大约需要3-5轮完成所有转会
  - 玩家可随时点击"结束转会期"跳过剩余事件

  ---
  二、财政系统详细设计

  2.1 货币单位

  游戏内使用虚拟货币，单位为"万元"，与现实脱钩但保持相对
  合理的比例关系。

  2.2 收入来源

  | 收入项    | 计算方式      | 发放时机  | 说明
   |
  |--------|-----------|-------|------------|
  | 联盟分成   | 固定500万/赛季 | 赛季开始  |
  所有球队相同     |
  | 赛区排名奖金 | 根据常规赛排名   | 常规赛结束 |
  第1名200万，递减 |
  | 季后赛奖金  | 根据季后赛名次   | 季后赛结束 |
  冠军300万     |
  | 国际赛奖金  | MSI/世界赛成绩 | 赛事结束  | 冠军500万
       |
  | 周边收入   | 基于人气值     | 每赛季结算 |
  0-300万浮动   |
  | 转会收入   | 卖出选手      | 交易完成  | 转会费100%
     |

  排名奖金详细：

  | 常规赛排名   | 奖金(万) | 季后赛名次 | 奖金(万) |
  |---------|-------|-------|-------|
  | 第1名     | 200   | 冠军    | 300   |
  | 第2名     | 150   | 亚军    | 200   |
  | 第3名     | 120   | 季军    | 150   |
  | 第4名     | 100   | 殿军    | 100   |
  | 第5-6名   | 80    | -     | -     |
  | 第7-8名   | 60    | -     | -     |
  | 第9-10名  | 40    | -     | -     |
  | 第11-14名 | 20    | -     | -     |

  国际赛奖金：

  | 名次    | MSI奖金(万) | 世界赛奖金(万) |
  |-------|----------|----------|
  | 冠军    | 400      | 500      |
  | 亚军    | 250      | 350      |
  | 四强    | 150      | 200      |
  | 八强    | 80       | 120      |
  | 小组赛出局 | 50       | 80       |

  2.3 支出项目

  | 支出项  | 计算方式      | 扣除时机  | 说明       |
  |------|-----------|-------|----------|
  | 选手薪资 | 各选手薪资总和   | 每赛季开始 |
  最大支出项    |
  | 转会费  | 购买选手费用    | 交易完成  | 一次性支出
    |
  | 运营成本 | 固定100万/赛季 | 赛季开始  | 基础开销
   |
  | 训练设施 | 可选投资      | 主动升级时 | 提升选手成长
     |
  | 违约金  | 提前解约时     | 解约时   | 剩余薪资的50%
  |

  2.4 薪资体系

  选手薪资与其能力值和身价挂钩：

  | 能力值区间  | 年薪范围(万) | 典型薪资  |
  |--------|---------|-------|
  | 90-100 | 200-400 | 顶级巨星  |
  | 80-89  | 100-200 | 核心球员  |
  | 70-79  | 50-100  | 主力球员  |
  | 60-69  | 20-50   | 轮换球员  |
  | 60以下   | 10-20   | 替补/新秀 |

  薪资上限（可选规则）：
  - 每队总薪资上限：1500万/赛季
  - 单人薪资上限：400万/赛季
  - 超出部分征收奢侈税（超出金额的150%）

  2.5 财政状态

  根据赛季结束时的资金余额判定财政状态：

  | 状态  | 资金范围      | 影响        |
  |-----|-----------|-----------|
  | 富裕  | 1000万以上   | 可自由引援     |
  | 健康  | 500-1000万 | 正常运营      |
  | 紧张  | 100-500万  | 限制高薪签约    |
  | 赤字  | 0-100万    | 必须出售选手    |
  | 破产  | 负数        | 强制出售最高薪选手 |

  2.6 财政AI决策

  AI球队的财政决策逻辑：

  富裕状态：
  - 积极引援补强
  - 愿意支付溢价抢人
  - 给核心续约加薪

  健康状态：
  - 正常参与转会市场
  - 按市场价交易
  - 维持现有阵容

  紧张状态：
  - 谨慎引援，优先性价比
  - 考虑出售高薪低能选手
  - 不主动加薪

  赤字状态：
  - 必须出售选手回血
  - 挂牌价可降至身价60%
  - 不参与任何买入

  破产状态：
  - 系统强制出售最高薪选手
  - 直到资金转正为止
  - 严重影响球队竞争力


  页面布局：

  ┌─────────────────────────────────────────────────┐
  │  转会中心 - S2赛季                    [结束转会期] │
  ├─────────────────────────────────────────────────┤
  │                                                 │
  │  ┌─────────────┐  ┌─────────────────────────┐  │
  │  │ 筛选条件    │  │ 自由球员市场            │  │
  │  │ ○ 全部     │  │                         │  │
  │  │ ○ 自由球员 │  │ [选手卡片] [选手卡片]   │  │
  │  │ ○ 挂牌出售 │  │ [选手卡片] [选手卡片]   │  │
  │  │            │  │                         │  │
  │  │ 位置筛选   │  └─────────────────────────┘  │
  │  │ □ TOP     │                               │
  │  │ □ JUG     │  ┌─────────────────────────┐  │
  │  │ □ MID     │  │ 挂牌出售                 │  │
  │  │ □ ADC     │  │                         │  │
  │  │ □ SUP     │  │ [选手卡片] [选手卡片]   │  │
  │  │            │  │                         │  │
  │  │ 能力筛选   │  └─────────────────────────┘  │
  │  │ 60-100    │                               │
  │  └─────────────┘                               │
  │                                                 │
  ├─────────────────────────────────────────────────┤
  │  最近转会动态                                    │
  │  ┌─────────────────────────────────────────┐   │
  │  │ Faker (MID) T1 → Gen.G  转会费:800万    │   │
  │  │ Chovy (MID) 合同到期 → 自由球员         │   │
  │  │ Uzi (ADC) 宣布退役                      │   │
  │  └─────────────────────────────────────────┘   │
  └─────────────────────────────────────────────────┘

  选手卡片内容：
  - 选手头像/位置图标
  - 游戏ID
  - 年龄
  - 综合能力值
  - 潜力值
  - 身价/要价
  - 年薪要求
  - 原属球队（如有）

  4.3 财务管理页面

  页面布局：

  ┌─────────────────────────────────────────────────┐
  │  财务管理 - S2赛季                              │
  ├─────────────────────────────────────────────────┤
  │  赛区选择: [LPL ▼]                              │
  │                                                 │
  │  ┌─────────────────────────────────────────┐   │
  │  │ 球队财务概览                             │   │
  │  ├──────┬───────┬───────┬───────┬─────────┤   │
  │  │ 球队 │ 余额  │ 薪资  │ 收入  │ 状态    │   │
  │  ├──────┼───────┼───────┼───────┼─────────┤   │
  │  │ T1   │ 1200万│ 800万 │ 1500万│ 🟢富裕  │   │
  │  │ GenG │ 600万 │ 650万 │ 900万 │ 🟢健康  │   │
  │  │ DK   │ 200万 │ 400万 │ 500万 │ 🟡紧张  │   │
  │  │ KT   │ 50万  │ 300万 │ 200万 │ 🔴赤字  │   │
  │  └──────┴───────┴───────┴───────┴─────────┘   │
  │                                                 │
  │  点击球队查看详细财务报表                        │
  └─────────────────────────────────────────────────┘

  球队财务详情（点击展开）：

  ┌─────────────────────────────────────────────────┐
  │  T1 财务详情 - S2赛季                           │
  ├─────────────────────────────────────────────────┤
  │                                                 │
  │  💰 资金余额: 1,200万                           │
  │                                                 │
  │  ┌──────────────────┐  ┌──────────────────┐   │
  │  │ 收入明细         │  │ 支出明细         │   │
  │  │ 联盟分成  500万  │  │ 选手薪资  800万  │   │
  │  │ 排名奖金  200万  │  │ 运营成本  100万  │   │
  │  │ 季后赛   300万  │  │ 转会费用  200万  │   │
  │  │ 世界赛   500万  │  │                  │   │
  │  │ ─────────────── │  │ ─────────────── │   │
  │  │ 合计    1500万  │  │ 合计    1100万  │   │
  │  └──────────────────┘  └──────────────────┘   │
  │                                                 │
  │  📋 阵容薪资                                    │
  │  ┌────────┬───────┬──────┬────────┐          │
  │  │ 选手   │ 位置  │ 能力 │ 年薪   │          │
  │  │ Faker  │ MID   │ 95   │ 350万  │          │
  │  │ Zeus   │ TOP   │ 88   │ 150万  │          │
  │  │ ...    │ ...   │ ...  │ ...    │          │
  │  │ ─────────────────────────────── │          │
  │  │ 总薪资                   800万  │          │
  │  └─────────────────────────────────┘          │
  └─────────────────────────────────────────────────┘

  4.4 选手详情页改造

  新增信息模块：

  ┌─────────────────────────────────────────────────┐
  │  选手详情 - Faker                               │
  ├─────────────────────────────────────────────────┤
  │                                                 │
  │  基础信息            六维能力雷达图             │
  │  ┌──────────────┐   ┌──────────────────┐      │
  │  │ ID: Faker    │   │    机械操作       │      │
  │  │ 位置: MID    │   │       95         │      │
  │  │ 年龄: 28     │   │  适应  ╱╲  意识  │      │
  │  │ 国籍: 韩国   │   │   88 ╱    ╲ 90   │      │
  │  │ 状态: 现役   │   │     ╱      ╲     │      │
  │  └──────────────┘   │ 关键╲      ╱协作 │      │
  │                     │   92 ╲    ╱ 85   │      │
  │  合同信息           │       ╲╱        │      │
  │  ┌──────────────┐   │     稳定性       │      │
  │  │ 球队: T1     │   │       88         │      │
  │  │ 到期: S4赛季 │   └──────────────────┘      │
  │  │ 年薪: 350万  │                             │
  │  │ 身价: 1200万 │   综合能力: 95              │
  │  └──────────────┘   潜力上限: 96              │
  │                                                 │
  │  职业生涯统计                                   │
  │  ┌─────────────────────────────────────────┐   │
  │  │ 总场次: 523  胜率: 68%  冠军: 5次       │   │
  │  │ MVP: 3次    全明星: 8次                 │   │
  │  └─────────────────────────────────────────┘   │
  │                                                 │
  │  转会历史                                       │
  │  ┌─────────────────────────────────────────┐   │
  │  │ S1: 加入T1（选秀）                      │   │
  │  │ S3: 续约T1（3年/1050万）                │   │
  │  └─────────────────────────────────────────┘   │
  └─────────────────────────────────────────────────┘

  4.5 球队详情页改造

  新增财务和阵容薪资模块：

  ┌─────────────────────────────────────────────────┐
  │  球队详情 - T1                                  │
  ├─────────────────────────────────────────────────┤
  │                                                 │
  │  [基础信息] [阵容] [财务] [历史]  ← 标签页切换  │
  │                                                 │
  │  ═══════════════════════════════════════════   │
  │  阵容标签页                                     │
  │  ═══════════════════════════════════════════   │
  │                                                 │
  │  首发阵容                    替补席            │
  │  ┌───────────────────────┐  ┌─────────────┐   │
  │  │ TOP  Zeus   88  150万 │  │ Canna  80  │   │
  │  │ JUG  Oner   85  120万 │  │ ...        │   │
  │  │ MID  Faker  95  350万 │  └─────────────┘   │
  │  │ ADC  Guma   87  130万 │                    │
  │  │ SUP  Keria  89  140万 │  阵容评估         │
  │  └───────────────────────┘  ┌─────────────┐   │
  │                             │ 平均能力:89 │   │
  │  总薪资: 800万/赛季         │ 平均年龄:24 │   │
  │  薪资空间: 700万            │ 短板:无    │   │
  │                             └─────────────┘   │
  └─────────────────────────────────────────────────┘

  4.6 首页仪表盘改造

  新增转会期提示：

  ┌─────────────────────────────────────────────────┐
  │  首页仪表盘                                     │
  ├─────────────────────────────────────────────────┤
  │                                                 │
  │  当前进度: S2赛季 - 转会窗口期                  │
  │                                                 │
  │  ⚡ 转会动态速报                                │
  │  ┌─────────────────────────────────────────┐   │
  │  │ 🔥 今日重磅: Chovy 加盟 T1，转会费600万 │   │
  │  │ 📝 3名选手合同到期成为自由球员          │   │
  │  │ 👋 2名老将宣布退役                      │   │
  │  └─────────────────────────────────────────┘   │
  │                                                 │
  │  [进入转会中心]  [查看财务报表]  [结束转会期]  │
  │                                                 │
  └─────────────────────────────────────────────────┘

  ---
  五、交互流程

  5.1 转会期完整流程

  1. 赛季结束
     ↓
  2. 系统自动结算财务
     - 发放奖金
     - 扣除薪资
     - 计算各队余额
     ↓
  3. 合同到期处理
     - 到期选手变为自由球员
     - 进入转会市场
     ↓
  4. 退役判定
     - 年龄30+且能力60以下的选手退役
     ↓
  5. 转会窗口开放
     ↓
  6. 玩家可选操作：
     - [快进] 一键完成所有转会
     - [逐步] 查看每个转会事件
     - [结束] 直接进入选秀
     ↓
  7. AI执行转会决策
     - 评估需求
     - 匹配买卖双方
     - 生成转会事件
     ↓
  8. 玩家确认/跳过
     ↓
  9. 转会期结束
     ↓
  10. 进入选秀阶段

  5.2 单次转会事件展示

  ┌─────────────────────────────────────────────────┐
  │  转会事件                                       │
  ├─────────────────────────────────────────────────┤
  │                                                 │
  │  🔄 转会达成                                    │
  │                                                 │
  │  ┌─────────┐          ┌─────────┐              │
  │  │  Gen.G  │  ──→→→   │   T1    │              │
  │  └─────────┘          └─────────┘              │
  │                                                 │
  │  选手: Chovy (MID)                             │
  │  年龄: 24岁  能力: 93  潜力: 95                │
  │                                                 │
  │  转会费: 600万                                  │
  │  新薪资: 280万/赛季                            │
  │  合同: 3年 (至S5赛季)                          │
  │                                                 │
  │  Gen.G财务: 800万 + 600万 = 1400万             │
  │  T1财务: 1200万 - 600万 = 600万                │
  │                                                 │
  │  [继续] [跳过剩余转会]                         │
  └─────────────────────────────────────────────────┘

  ---
  这套设计覆盖了转会市场AI逻辑、财政系统、数据库结构和前
  端展示。需要我进一步细化哪个部分吗？




### 2.5 可视化与数据统计模块
#### 2.5.1 赛事可视化对阵图
- **联赛**：
  - 常规赛：赛程表（按轮次筛选，标注已完成/待进行，点击查看比分）；
  - 季后赛：双败对阵图（SVG动态绘制，用线条连接晋级路径，高亮当前胜者）；
- **杯赛（MSI/世界赛/大师赛/洲际超级杯赛/洲际对抗赛）**：
  - MSI：分阶段对阵图（预选赛→败者组→胜者组→总决赛），标注每轮晋级队伍；
  - 世界赛：瑞士轮积分表（实时更新各队胜负场）+ 淘汰赛对阵图（含季军赛）；
- **洲际超级杯赛**：
  - 分阶段展示：Fighter组积分表→挑战者组定位赛对阵→第三阶段胜负者组路径→第四阶段6队晋级树（含季军加赛）；
  - 抽签过程动画：模拟真实抽签场景，支持回放。

#### 2.5.2 选手中心
需要有游戏id 真实姓名，国籍 ，年龄 ，所属战队，赛区，能力值，标签，潜力值，稳定性，状态，加入的赛季，点进详情页面还会显示获得的荣誉，还有他在每个赛季的比赛记录，比如在s1赛季的c洲际赛中，他获得了冠军，那么就会显示在详情界面，他在s1赛季的c洲际赛中获得了冠军等，这个跟荣誉界面


###
### 2.6 系统设置模块
是一个游戏，所以需要存档功能，点击导入可以进入不同的存档，
- 



### 3.3 技术实现 Tauri框架 做一个桌面端应用
- **前端技术栈**：vue3 + typescript + thailwindcss 还有native UI
- **可视化技术**：SVG（绘制对阵图、抽签动画）、Chart.js（数据图c表：折线图/柱状图/饼图）；
- **数据存储**：浏览器LocalStorage（本地持久化存储，支持10MB以内数据，满足个人模拟需求）；
- **交互优化**：
  - 对阵图点击交互：点击对阵节点查看比赛详情；
  - 抽签动画：使用CSS3动画+JavaScript控制，模拟“抽签池→分组”流程；
  - 响应式适配：桌面端优先，兼容平板设备（对阵图自适应缩放）。‘


后端 Tauri 框架 rust语言


  赛季选择系统实现完成

  1. 创建了赛季状态管理 Store (useSeasonStore.ts)

  - 赛季数据管理：支持多个赛季（S1、S2...）
  - 当前活跃赛季：记录正在进行的赛季
  - 查看赛季：可以切换查看历史赛季数据，不影响游戏进度
  - 游戏阶段管理：定义了14个游戏阶段（春季赛 → MSI → 马德里 → 夏季赛 →
  Claude洲际赛 → 世界赛 → 上海大师赛 → ICP → Super → 转会期 → 选秀 →
  赛季结束）
  - 阶段推进：支持按顺序推进游戏阶段
  - 数据持久化：保存到 localStorage

  2. 更新了仪表盘 (Dashboard.vue)

  - 赛季选择器：顶部添加了紫色渐变的赛季下拉选择器
  - 当前阶段显示：显示当前游戏进行到哪个阶段
  - 历史赛季提示：查看历史数据时显示警告标签和"返回当前赛季"按钮
  - 赛季进度条：显示当前赛季的完成进度

  3. 更新了赛事管理页面 (Tournaments.vue)

  - 赛季选择器联动：与全局赛季状态同步
  - 历史赛季提示栏：查看历史数据时显示黄色警告提示
  - 返回当前赛季按钮：快速切换回当前正在进行的赛季

  4. 确认了数据分类逻辑

  - 按赛季显示：赛事管理页面（每个赛季独立）
  - 累计显示：战队管理、选手中心（数据随赛季累积）
  - 可筛选：荣誉殿堂（支持"全部赛季"和单独赛季筛选）

  这样你就可以：
  - 在仪表盘切换赛季来查看历史数据
  - 查看S1赛季的赛事数据时，会有明显提示
  - 点击"返回当前赛季"快速回到正在进行的赛季（如S2）

